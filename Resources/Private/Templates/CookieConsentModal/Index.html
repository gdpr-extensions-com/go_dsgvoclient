
<f:section name="HeaderAssets">
    <script
        src="{f:uri.resource(path: 'Js/init.js', extensionName: 'go_dsgvoclient')}"></script>
    <script
        src="{f:uri.resource(path: 'Js/yett.js', extensionName: 'go_dsgvoclient')}"></script>
</f:section>
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true">
    {namespace  my=GdprExtensionsCom\GoDsgvoclient\ViewHelpers}
    {my:getTwoClickSolutions() -> f:variable(name: 'twoClickSol')}
    <f:variable name="decodedArray"
        value="{twoClickSol -> v:format.json.decode()}" />

    <div id="gdpr-cookie-consent__icon" class="init-icon">

    </div>
    <div id="gdpr-cookie-consent__model" class="modal">
        <div class="modal-content">
            <div class="scroll">
                <div class="cookie-data">
                    <div class="modal-header">
                        {data.consent_header_title}
                        <!-- <span id="closeModal" class="close-modal d-none">&#10005;</span> -->
                    </div>
                    <p class="model-desc">
                        {data.consent_header}
                    </p>
                    <div>
                        <f:for each="{groupedCookies}" as="category" key="categoryName">
                            <f:variable name="lowercaseCategoryName" value="{categoryName -> f:format.case(mode: 'lower')}"/>
                            <div class="category-container">
                                <div class="category-header">
                                    <span class="arrow">+</span>
                                    <f:translate key="{categoryName}" />
                                    ({f:count(subject: category)})
                                </div>
                                <div class="category-content hide">
                                    <div class="cookie-item">
                                        {data.{lowercaseCategoryName}}
                                        <br>
                                        <span class="more_details" data-identifier="{categoryName}"><f:translate key="more_details" /></span>
                                    </div>
                                </div>
                            </div>
                        </f:for>
                        <p class="two-click-header"><f:translate key="Manage_Consent_Preferences" /></p>
                       
                        <div class="category-container gdpr-cookies">
                            <f:for each="{decodedArray}" as="sol" iteration="i">
                                <div class="d-flex justify-content-btw align-items-ctr cookie-inner ">
                                    <p class="mb-0">{sol.extension_title}</p>
                                    <label class="switch mb-0">
                                        <input type="checkbox"
                                            class="toggleButton"
                                            id="{i.index}"
                                            data-ext-title="<f:format.raw>{sol.extension_key}</f:format.raw>">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </f:for>
                        </div>
        
                    </div>
                </div>
                <f:for each="{groupedCookies}" as="cookieCategory" key="identifier" iteration="i">
                    <f:variable name="lowercaseCategoryName" value="{identifier -> f:format.case(mode: 'lower')}"/>
                    <div class="main-frame more-detail-table d-none" data-identifier="{identifier}">
                        <div class="modal-header go-back">
                            {identifier}
                        </div>
                        <p class="model-desc">
                            {data.{lowercaseCategoryName}}
                        </p>
                        <div class="table-border">
                            <table class="" id="">
                                <tbody>
                                    <tr class="row-head">
                                        <th class="web-id-head w-50px">Cookie Name</th>
                                        <th>Domain</th>
                                        <th {f:if(condition: '{cookieData.description}', then: 'style="min-width: 300px"', else: '')}>Description</th>
                                        <th class="">Expires</th>
                                        <th class="">Type</th>
                                        <th>Session</th>
                                        <th class="">Found in</th>
                                    </tr>
                                    <f:for each="{cookieCategory}" as="cookieData" iteration="i">
                                        <tr class="row-data" style="{f:if(condition: i.last, then: 'border-bottom: 0;')}">
                                            <f:if condition="{cookieData.name}">
                                                <f:then>
                                                    <td data-title="Cookie Name"><span style="color: #343434;">{cookieData.name}</span></td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Cookie Name"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.domain}">
                                                <f:then>
                                                    <td data-title="Domain"><span style="color: #343434;">{cookieData.domain}</span></td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Domain"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.description}">
                                                <f:then>
                                                    <td data-title="Description" class="{f:if(condition: '{cookieData.description}', then: 'desc', else: '')}" >
                                                        <span style="color: #343434;">{cookieData.description}</span>
                                                    </td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Description"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.expire}">
                                                <f:then>
                                                    <td data-title="Expires"><span style="color: #343434;">{cookieData.expire}</span></td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Expires"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.type}">
                                                <f:then>
                                                    <td data-title="Type"><span style="color: #343434;">{cookieData.type}</span></td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Type"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.session}">
                                                <f:then>
                                                    <td data-title="Session"><span style="color: #343434;">{cookieData.session}</span></td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Session"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                            <f:if condition="{cookieData.subPagesArray}">
                                                <f:then>
                                                    <td data-title="Found in" class="links-parent">
                                                        <div class="links">
                                                            <f:for each="{cookieData.subPagesArray}" as="list" iteration="i">
                                                                <a href="{list}"> {list -> f:format.crop(maxCharacters: 20,append:..)}</a><br>
                                                            </f:for>
                                                        </div>
                                                    </td>
                                                </f:then>
                                                <f:else>
                                                    <td data-title="Found in"><span style="color: #343434;">-</span></td>
                                                </f:else>
                                            </f:if>
                                        </tr>
                                    </f:for>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </f:for>
                <f:if condition="{decodedArray}">
                    <f:then>
                        <div class="acceptance-btn">
                            <button type="button"
                                class="btn-lg accept-btn accept-btn-padding  "
                                onclick="setCookies('false')">
                                <f:translate key="Confirm" /></button>
                        </div>
                    </f:then>
                    <f:else>
                        <div class="acceptance-btn">
                            <button type="button"
                                class="btn-lg accept-btn accept-btn-padding  "
                                onclick="setCookies('true')">
                                <f:translate key="i_understand" /></button>
                        </div>
                    </f:else>
                </f:if>
            </div>

        </div>
    </div>

    <style>
        @font-face {
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 400;
            src: local('Poppins Regular'), local('Poppins-Regular'),
            url('/typo3conf/ext/go_dsgvoclient/Resources/Public/Fonts/Poppins-Regular.otf') format('opentype');
        }

        @font-face {
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 500;
            src: local('Poppins Medium'), local('Poppins-Medium'),
            url('/typo3conf/ext/go_dsgvoclient/Resources/Public/Fonts/Poppins-Medium.otf') format('opentype');
        }

        @font-face {
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 700;
            src: local('Poppins Bold'), local('Poppins-Bold'),
            url('/typo3conf/ext/go_dsgvoclient/Resources/Public/Fonts/Poppins-Bold.otf') format('opentype');
        }

        #gdpr-cookie-consent__icon.init-icon {
            width: 70px;
            height: 70px;
            position: fixed;
            bottom: 15px;
            right: 20px;
            border-radius: 50px;
            background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8zMzgzXzI4NzgwKSI+CjxjaXJjbGUgY3g9IjMwIiBjeT0iMzAiIHI9IjI0IiBmaWxsPSIjRUU3MjAyIi8+CjwvZz4KPHBhdGggZD0iTTI2LjUgMjYuNVYyNi41MU0zNCAzMy41VjMzLjUxTTMwIDMwVjMwLjAxTTI5IDM1VjM1LjAxTTI1IDMyVjMyLjAxTTMwIDIwQzI4LjAyMjIgMjAgMjYuMDg4OCAyMC41ODY1IDI0LjQ0NDMgMjEuNjg1M0MyMi43OTk4IDIyLjc4NDEgMjEuNTE4MSAyNC4zNDU5IDIwLjc2MTIgMjYuMTczMkMyMC4wMDQzIDI4LjAwMDQgMTkuODA2MyAzMC4wMTExIDIwLjE5MjIgMzEuOTUwOUMyMC41NzggMzMuODkwNyAyMS41MzA0IDM1LjY3MjUgMjIuOTI4OSAzNy4wNzExQzI0LjMyNzUgMzguNDY5NiAyNi4xMDkzIDM5LjQyMiAyOC4wNDkxIDM5LjgwNzlDMjkuOTg4OSA0MC4xOTM3IDMxLjk5OTYgMzkuOTk1NyAzMy44MjY4IDM5LjIzODhDMzUuNjU0MSAzOC40ODE5IDM3LjIxNTkgMzcuMjAwMiAzOC4zMTQ3IDM1LjU1NTdDMzkuNDEzNSAzMy45MTEyIDQwIDMxLjk3NzggNDAgMzBDMzkuMzA1IDMwLjIxNCAzOC41NjQ4IDMwLjIzNDUgMzcuODU5MSAzMC4wNTkzQzM3LjE1MzMgMjkuODg0MSAzNi41MDg3IDI5LjUxOTggMzUuOTk0NSAyOS4wMDU2QzM1LjQ4MDMgMjguNDkxMyAzNS4xMTYgMjcuODQ2NyAzNC45NDA3IDI3LjE0MDlDMzQuNzY1NSAyNi40MzUyIDM0Ljc4NiAyNS42OTUgMzUgMjVDMzQuMzA1IDI1LjIxNCAzMy41NjQ4IDI1LjIzNDUgMzIuODU5MSAyNS4wNTkzQzMyLjE1MzMgMjQuODg0MSAzMS41MDg3IDI0LjUxOTggMzAuOTk0NSAyNC4wMDU2QzMwLjQ4MDMgMjMuNDkxMyAzMC4xMTYgMjIuODQ2NyAyOS45NDA3IDIyLjE0MDlDMjkuNzY1NSAyMS40MzUyIDI5Ljc4NiAyMC42OTUgMzAgMjBaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8ZGVmcz4KPGZpbHRlciBpZD0iZmlsdGVyMF9kXzMzODNfMjg3ODAiIHg9IjAiIHk9IjAiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPgo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0Lz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMTUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18zMzgzXzI4NzgwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzMzODNfMjg3ODAiIHJlc3VsdD0ic2hhcGUiLz4KPC9maWx0ZXI+CjwvZGVmcz4KPC9zdmc+Cg==");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            z-index: 999;
        }

        #gdpr-cookie-consent__icon.init-icon.left {
            left: 20px;
            right: unset;
        }

        #gdpr-cookie-consent__model .gdpr-cookies {
            margin-bottom: 24px;
        }

        #gdpr-cookie-consent__model.modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            font-family: 'Poppins', sans-serif;
            overflow: unset;
        }

        #gdpr-cookie-consent__model .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 440px;
            background-color: transparent;
            padding: 20px;
            border-radius: 7px;
            overflow-y: unset;
            width: 100%;
        }

        #gdpr-cookie-consent__model .modal-content .two-click-header {
            font-size: 16px;
            color: #343434;
            margin-bottom: 6px;
        }

        #gdpr-cookie-consent__model .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 0;
            padding: 0;
            border: 0;
            color: black;
            font-size: 20px;
        }

        #gdpr-cookie-consent__model .modal-desc {
            color: #343434;
            font-size: 14px;
        }

        #gdpr-cookie-consent__model .modal-content .cookie-section {
            padding: 22px 11px;
            background: #ffe8d8;
            border-radius: 6px;
            margin: 0 16px 20px 16px;
        }

        #gdpr-cookie-consent__model .modal-content .cookie-section .cookie-inner {
            margin-bottom: 13px;
        }

        #gdpr-cookie-consent__model .modal-content .toggleButton {
            opacity: 0;
        }

        #gdpr-cookie-consent__model .modal-content .cookie-section p {
            margin-top: 0;
        }

        #gdpr-cookie-consent__model .close-modal {
            cursor: pointer;
            font-size: 24px;
            margin-left: 20px;
        }
        #gdpr-cookie-consent__model .scroll {
            max-height: 550px;
            overflow-y: auto;
            max-width: unset;
            width: 100%;
            background-color: white;
            border-radius: 7px;
            padding: 20px;
        }

        #gdpr-cookie-consent__model .scroll::-webkit-scrollbar-track {
            background-color: transparent;
        }

        #gdpr-cookie-consent__model .scroll::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }


        #gdpr-cookie-consent__model .scroll::-webkit-scrollbar {
            width: 6px;
        }


        #gdpr-cookie-consent__model .scroll {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
            max-height: 550px;
            overflow-y: auto;
            max-width: 440px;
            width: 100%;
        }


        #gdpr-cookie-consent__model .scroll {
            -webkit-overflow-scrolling: touch;
        }
        
        #gdpr-cookie-consent__model .d-none {
            display: none;
        }

        #gdpr-cookie-consent__model .modal-content .category-container {
            border: 1px solid #eaeaea;
            padding: 9px 0;
            background: #fafafa;
            border-radius: 6px;
            margin-bottom: 10px;
        }

        #gdpr-cookie-consent__model .modal-content .category-container.gdpr-cookies {
            background-color: transparent;
            padding: 0;
        }

        #gdpr-cookie-consent__model .modal-content .category-container.gdpr-cookies .cookie-inner {
            padding: 8px;
            border-top: 1px solid #E7E6E6;
        }

        #gdpr-cookie-consent__model .modal-content .category-container.gdpr-cookies .cookie-inner:first-child {
            border-top: 0;
        }

        #gdpr-cookie-consent__model .modal-content .category-container.gdpr-cookies p {
            font-size: 16px;
            color: #343434;
            width: 190px;
            margin: 0;
            padding: 0;
            word-break: break-all;
            line-height: 22px;
        }

        #gdpr-cookie-consent__model .switch {
            position: relative;
            display: inline-block;
            width: 42px;
            height: 22px;
        }
        #gdpr-cookie-consent__model .modal-content .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 34px;
            /* This line makes the slider rounded */
        }
        #gdpr-cookie-consent__model .modal-content .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
            /* This line makes the button inside the slider rounded */
        }

        #gdpr-cookie-consent__model .modal-content input:checked+.slider {
            background-color: #ee7202;
        }

        #gdpr-cookie-consent__model .modal-content input:focus+.slider {
            box-shadow: 0 0 1px #ee7202;
        }

        #gdpr-cookie-consent__model .modal-content input:checked+.slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }
    
        

        #gdpr-cookie-consent__model .category-header {
            color: #343434;
            height: 32px;
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 0 15px;
            border-top-left-radius: 7px;
            border-top-right-radius: 7px;
            font-size: 16px;
            font-weight: 500;
        }

        #gdpr-cookie-consent__model .arrow {
            margin-right: 10px;
            transition: 0.3s;
            margin-top: -2px;
            color: #343434;
        }

        #gdpr-cookie-consent__model .cookie-item {
            padding-left: 39px;
            padding-right: 20px;
            color: #626262;
        }

        #gdpr-cookie-consent__model .cookie-item strong {
            display: block;
            font-size: 14px;
        }

        #gdpr-cookie-consent__model .cookie-item {
            font-size: 13px;
        }

        #gdpr-cookie-consent__model .modal-footer {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        #gdpr-cookie-consent__model .accept-all {
            text-align: right;
            margin-top: 30px;
        }

        #gdpr-cookie-consent__model .accept-btn, .deny-btn {
            width: auto;
            padding: 7px 22px;
            border-radius: 7px;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

        #gdpr-cookie-consent__model .accept-btn {
            background-color: #EE7202;
            color: white;
            line-height: 26px;
        }

        #gdpr-cookie-consent__model .deny-btn {
            background-color: white;
            color: #EE7202;
            border: 1px solid #EE7202;
        }

        #gdpr-cookie-consent__model .category-content.hide {
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.3s ease-in-out;
        }


        #gdpr-cookie-consent__model .category-content.show {
            overflow: hidden;
        
            transition: max-height 0.3s ease-in-out;
        }

        #gdpr-cookie-consent__model .more_details {
            color: #EE7202;
            font-size: 16px;
            cursor: pointer;
        }

        #gdpr-cookie-consent__model .main-frame .table-border {
            border: 1px solid #e7e6e6;
            border-radius: 10px;
            margin-top: 10px;
            overflow-x: auto;
            max-height: 60vh;
        }
        #gdpr-cookie-consent__model .main-frame table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 100%;
        }
        #gdpr-cookie-consent__model .main-frame table .row-head {
            background: #e7e6e6;
            text-align: left;
        }
        #gdpr-cookie-consent__model .main-frame table tr {
            border-bottom: 1px solid #e7e6e6;
            font-size: 14px;
            font-weight: 500;
            line-height: 50px;
        }
        #gdpr-cookie-consent__model .main-frame table tr:last-child {
            border-bottom: 0;
        }
        #gdpr-cookie-consent__model .main-frame table .row-head th {
            color: #343434;
            font-size: 16px;
            font-weight: 700;
            line-height: 24px;
            min-width: 150px;
            padding: 16px;
        }
        #gdpr-cookie-consent__model .main-frame table .row-data td {
            color: #343434;
            font-size: 16px;
            font-weight: 400;
            line-height: 24px;
            padding: 16px;
        }

        #gdpr-cookie-consent__model .main-frame table .row-data td.desc {
            min-width: 300px;
        }

        #gdpr-cookie-consent__model .main-frame table .links {
            max-width: 140px;
            max-height: 76px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        #gdpr-cookie-consent__model .main-frame table .links a {
            white-space: pre;
        }

        #gdpr-cookie-consent__model .main-frame.more-detail-table .modal-header{
            background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuODI0OCAxMi45OTk4TDEyLjcyNDggMTcuODk5OEMxMi45MjQ4IDE4LjA5OTggMTMuMDIwNiAxOC4zMzMxIDEzLjAxMjMgMTguNTk5OEMxMy4wMDQgMTguODY2NSAxMi44OTk4IDE5LjA5OTggMTIuNjk5OCAxOS4yOTk4QzEyLjQ5OTggMTkuNDgzMSAxMi4yNjY1IDE5LjU3OSAxMS45OTk4IDE5LjU4NzNDMTEuNzMzMSAxOS41OTU2IDExLjQ5OTggMTkuNDk5OCAxMS4yOTk4IDE5LjI5OThMNC42OTk4IDEyLjY5OThDNC41OTk4IDEyLjU5OTggNC41Mjg5NyAxMi40OTE1IDQuNDg3MyAxMi4zNzQ4QzQuNDQ1NjQgMTIuMjU4MSA0LjQyNDggMTIuMTMzMSA0LjQyNDggMTEuOTk5OEM0LjQyNDggMTEuODY2NSA0LjQ0NTY0IDExLjc0MTUgNC40ODczIDExLjYyNDhDNC41Mjg5NyAxMS41MDgxIDQuNTk5OCAxMS4zOTk4IDQuNjk5OCAxMS4yOTk4TDExLjI5OTggNC42OTk4QzExLjQ4MzEgNC41MTY0NyAxMS43MTIzIDQuNDI0OCAxMS45ODczIDQuNDI0OEMxMi4yNjIzIDQuNDI0OCAxMi40OTk4IDQuNTE2NDcgMTIuNjk5OCA0LjY5OThDMTIuODk5OCA0Ljg5OTggMTIuOTk5OCA1LjEzNzMgMTIuOTk5OCA1LjQxMjNDMTIuOTk5OCA1LjY4NzMgMTIuODk5OCA1LjkyNDggMTIuNjk5OCA2LjEyNDhMNy44MjQ4IDEwLjk5OThIMTguOTk5OEMxOS4yODMxIDEwLjk5OTggMTkuNTIwNiAxMS4wOTU2IDE5LjcxMjMgMTEuMjg3M0MxOS45MDQgMTEuNDc5IDE5Ljk5OTggMTEuNzE2NSAxOS45OTk4IDExLjk5OThDMTkuOTk5OCAxMi4yODMxIDE5LjkwNCAxMi41MjA2IDE5LjcxMjMgMTIuNzEyM0MxOS41MjA2IDEyLjkwNCAxOS4yODMxIDEyLjk5OTggMTguOTk5OCAxMi45OTk4SDcuODI0OFoiIGZpbGw9IiM2MjYyNjIiLz4KPC9zdmc+Cg==");
            background-repeat: no-repeat;
            width: 24px;
            height: 24px;
            padding-left: 31px;
            margin-bottom: 10px;
            cursor: pointer;
            display: inline-flex;
        }

        #gdpr-cookie-consent__model .modal-content, .scroll {
            transition: max-width 0.3s ease-in-out,
                        max-height 0.3s ease-in-out;
        }

        #gdpr-cookie-consent__model .modal-content.expanded, #gdpr-cookie-consent__model .scroll.expanded {
            max-width: 1400px;
        }

        #gdpr-cookie-consent__model .scroll.expanded {
            max-height: 90vh;
        }

        #gdpr-cookie-consent__model .modal-content .acceptance-btn {
            margin-top: 20px;
            text-align: end;
        }

        #gdpr-cookie-consent__model .modal-content .model-desc {
            font-size: 14px;
            font-weight: 400;
            line-height: 21px;
            color: #343434;
        }

        @media (max-width: 767px) {
            #gdpr-cookie-consent__model .main-frame .table-border{
                border: none;
            }
            #gdpr-cookie-consent__model .main-frame table { 
                width: 100%;
                border-collapse: separate;
                border-spacing: 0 16px;
            }
        
            #gdpr-cookie-consent__model .main-frame .row-head {
                display: none; 
            }
        
            #gdpr-cookie-consent__model .main-frame tbody, 
            #gdpr-cookie-consent__model .main-frame th, 
            #gdpr-cookie-consent__model .main-frame td { 
                display: block;
            }
            
            #gdpr-cookie-consent__model .main-frame tr { 
                margin-bottom: 0.625em;
            }
        
            #gdpr-cookie-consent__model .main-frame td { 
                text-align: left; 
                position: relative;
                padding: 0 !important;
                background-color: #E7E6E6;
                border: 1px solid #F3F2F2;
                border-bottom: 0;
                overflow: hidden;
            }

            #gdpr-cookie-consent__model .main-frame td:first-child {
                border-top-left-radius: 6px;
                border-top-right-radius: 6px;
            }

            #gdpr-cookie-consent__model .main-frame td:last-child {
                border-bottom-left-radius: 6px;
                border-bottom-right-radius: 6px;
                border-bottom: 1px solid #F3F2F2;
            }

            #gdpr-cookie-consent__model .main-frame td span {
                width: 100%;
                display: block;
                padding: 7px;
                padding-left: 150px;
                position: relative;
                overflow: hidden;
                z-index: 0;
            } 

            #gdpr-cookie-consent__model .main-frame td .links {
                margin-left: 146px;
                width: 100%;
                max-width: unset;
            }

            #gdpr-cookie-consent__model .main-frame td.links-parent {
                position: relative;
                z-index: 0;
            }

            #gdpr-cookie-consent__model .main-frame td span::before, #gdpr-cookie-consent__model .main-frame td .links::before {
                content: '';
                position: absolute;
                width: 100%;
                height: 100%;
                background-color: white;
                z-index: -1;
                top: 0;
                left: 130px;
            }
        
            #gdpr-cookie-consent__model .main-frame td::before { 
                content: attr(data-title);
                position: absolute;
                left: 10px;
                width: 140px;
                padding-right: 10px;
                white-space: nowrap;
                text-align: left;
                font-weight: bold;
                top: 8px;
            }

            #gdpr-cookie-consent__model .main-frame .table-border {
                margin-top: 0;
            }

            #gdpr-cookie-consent__model .main-frame .model-desc {
                margin-bottom: 0;
            }

            #gdpr-cookie-consent__model .main-frame table tr {
                width: 100%;
                display: block;
                border-bottom: 0;
            }
        }

        @media (max-width: 580px) {
            #gdpr-cookie-consent__model .modal-content .model-desc {
                font-size: 14px;
            }
            #gdpr-cookie-consent__model .main-frame td::before {
                font-size: 12px;
                top: 3px;
            }
            #gdpr-cookie-consent__model .main-frame td span::before, #gdpr-cookie-consent__model .main-frame td .links::before {
                left: 100px;
                font-size: 12px;
            }
            #gdpr-cookie-consent__model .main-frame td span {
                padding-left: 115px;
                font-size: 12px;
                line-height: 15px;
            }
            #gdpr-cookie-consent__model .main-frame td .links {
                font-size: 11px;
                line-height: 18px;
                margin-left: 113px;
            }
            #gdpr-cookie-consent__model .main-frame table .row-data td.desc {
                min-width: unset;
            }
            #gdpr-cookie-consent__model .modal-content .category-container.gdpr-cookies p {
                font-size: 12px;
                width: 160px;
            }
        }

        @media (max-height: 580px) { 
            #gdpr-cookie-consent__model .scroll {
                max-height: 450px;
            }
        }

    </style>

    
    <f:asset.script identifier="2ClickSol">


     /*

     _2ClickIframePrivacy Class contains methods for handling user consent about cookies.

     It internally uses cookies to remember user choices about privacy settings.

     Classes:
     - privacy-msg: Used to style privacy message displayed within iframe
     - toggleButton : Used by buttons which enables/disables specific services

     Methods:
     - setConsentStatus(service,status) : Sets the consent status for a service and stores it as a cookie.
     - deleteCookie(name) : Deletes the specified cookie.
     - getConsentStatuses(): Returns a JSON object representing all the cookies whose consent was obtained.
     - wrap(el, wrapper, type, text, heading): Adds 'privacy-msg' div element inside an iframe containing info about data security and obtain user’s consent
     - EnableContent(type): Enables the iframe content once user provides consent.
     - DisableContent(type,e): Disables the iframe content if user withdraws consent.
     - Init(UserConfig) : Initializes the instance with user provided configurations.

     Properties:

     - consentCookieName: Specifies the name of the cookie used for preserving user consent settings
     - toggleButtons: Represents all buttons which enables/disables specific services.
     - consentStatuses: Stores the statuses of users' consent for cookies

     */

     let arr = JSON.parse('<f:format.raw>{twoClickSol}</f:format.raw>');
     
     document.addEventListener('DOMContentLoaded', () => {
     _2ClickIframePrivacy.init('',arr)
     });
     let switchs = document.querySelectorAll('.switch .toggleButton');
     let acceptBtn = document.querySelector('.accept-all .btn-lg');

     acceptBtn.addEventListener('click', function() {
        
     switchs.forEach((item, index)=>{
         
     if(item.checked != true) {
     item.click();
     acceptBtn.disabled = true;
     acceptBtn.classList.add('disabled');
     }
     })
     })
    
  
     for(let sol in arr) {

     let solSetting = arr[sol];

     var modal = document.getElementById("gdpr-extensions-com-cookie-model");
     var btn = document.querySelectorAll(".gdpr-extensions-com-cookie-fab-mo");
     var span = document.getElementsByClassName("close")[0];
     btn.forEach((item, index) => {
     item.addEventListener('click', function () {
     modal.style.display = "block";
     })
     })


     span.onclick = function () {
     modal.style.display = "none";
     }

     window.onclick = function (event) {
     if (event.target == modal) {
     modal.style.display = "none";
     }
     }


     var _2ClickIframePrivacy = new function () {

     var consentCookieName = 'GDPR_Extensions_2ClickCookieConsent';
     var toggleButtons = document.getElementsByClassName("toggleButton");
     let gdprInner = document.getElementById('gdpr-inner')


     // Initialize consent statuses:
     var consentStatuses = getConsentStatuses();

     var config = {
     enableCookies: true,
     useSessionCookie: true,
     cookieNamespace: '_2ClickIPEnable-',
     showContentLabel: 'Inhalt anzeigen',
     rememberChoiceLabel: 'Auswahl merken',
     privacyPolicyLabel: 'Datenschutzerklärung',
     privacyPolicyUrl: false
     };

     this.types = new Array(
     {
     type: 'video',
     description: solSetting.content,
     heading: solSetting.heading,
     btnColor: solSetting.buttonColor,
     textColor: solSetting.textColor,
     imagePath: solSetting.backgroundImage,
     imageStatus: solSetting.enableBackgroundImage,
     bgColor: solSetting.backgroundImageColor,
     buttonTextColor: solSetting.buttonTextColor,
     btnText: solSetting.buttonText,
     btnShape: solSetting.buttonShape,
     },
     {
     type: 'map',
     description: solSetting.content,
     heading: solSetting.heading,
     btnColor: solSetting.buttonColor,
     textColor: solSetting.textColor,
     imagePath: solSetting.backgroundImage,
     imageStatus: solSetting.enableBackgroundImage,
     bgColor: solSetting.backgroundImageColor,
     buttonTextColor: solSetting.buttonTextColor,
     btnText: solSetting.buttonText,
     btnShape: solSetting.buttonShape,
     },
     {
     type: 'calendar',
     description: '<f:format.raw>{YoutubeSettings.content}</f:format.raw><br />',
     heading: 'Zum Aktivieren des Videos bitte auf den Link klicken. Durch das Aktivieren von eingebetteten Videos werden Daten an den jeweiligen Anbieter übermittelt. Weitere Informationen können unserer Datenschutzerklärung entnommen werden.<br />'

     }
     );

     function setConsentStatus(service, status) {
     consentStatuses[service] = status;

     let cookie = getConsentStatuses();
     if (cookie != {}) {
     deleteCookie(consentCookieName);
     }
     var d = new Date;
     d.setTime(d.getTime() + 24 * 60 * 60 * 1000 * 365);
     document.cookie = consentCookieName + "=" + JSON.stringify(consentStatuses) + ";path=/;expires=" + d.toGMTString();

     }

     function deleteCookie(name) {
     // Create an expired date.
     var expiredDate = new Date();
     expiredDate.setTime(expiredDate.getTime() - (1000 * 3600)); // Subtracting 1 hour from current time

     // Setting the cookie with an expired date deletes it.
     document.cookie = name + "=; expires=" + expiredDate.toGMTString() + "; path=/";
     }

     function getConsentStatuses() {
     var v = document.cookie.match('(^|;) ?' + consentCookieName + '=([^;]*)(;|$)');
     return v ? JSON.parse(v[2]) : {};
     }

     // Create div-element within the respective iframe to display the defined data-security message and get consent for loading the iframe content.

     function wrap(el, wrapper, type, text, heading, btnColor, textColor, imagePath, imageStatus, bgColor, buttonTextColor, btnText, btnShape) {
     el.parentNode.insertBefore(wrapper, el);
     wrapper.className = 'privacy-msg privacy-' + type + '-msg';
     wrapper.style.width = el.clientWidth + 'px';
     wrapper.style.height = el.clientHeight + 'px';
     wrapper.innerHTML = imageStatus == 1 ? "<div class='bgComtainer-image'><img class='bg-image' src='" + imagePath + "'/><div class='overlay'></div>" : "";
     wrapper.innerHTML += '<h2 style="color:' + textColor + '">' + heading + '</h2>';
     wrapper.innerHTML += '<p class="description" style="color:' + textColor + '">' + text + '</p>' + '<a href="#foo" class="link-action ' + btnShape + '" style="background-color: ' + btnColor + ';color:' + buttonTextColor + '" onclick="_2ClickIframePrivacy.EnableContent(\'' + type + '\'); return false;">' + btnText + '</a>';
     if (config.enableCookies) {
     wrapper.innerHTML = wrapper.innerHTML + '<label class="checkbox-label"  style="color:' + textColor + ';display: none"><input type="checkbox" checked style="border-color: ' + btnColor + '" name="remind-\'' + type + '\'" /> ' + config.rememberChoiceLabel + '</label>';
     }
     if (config.privacyPolicyUrl) {
     wrapper.innerHTML = wrapper.innerHTML + '<br /><a href="' + config.privacyPolicyUrl + '">' + config.privacyPolicyLabel + '</a>';
     }
     wrapper.innerHTML = '<div class="wraper" style="background-color: ' + bgColor + '"><p>' + wrapper.innerHTML + '</p></div>';
     wrapper.appendChild(el);
     }

     this.EnableContent = function (type) {
     var i;

     // Cookies globally enabled by config?
     var checkboxes = document.querySelectorAll('div.privacy-' + type + '-msg input');

     if (config.enableCookies) {
     for (let i = 0; i < checkboxes.length; i++) {
     if (checkboxes[i].checked == true) {
     let service = checkboxes[i].parentNode.parentNode.nextElementSibling.getAttribute('data-2click-service'); // get service name from iframe
   
     setConsentStatus(service, '1');
     }
     }
     }


     var x = document.querySelectorAll('div.privacy-' + type + '-msg .wraper');
     for (i = 0; i < x.length; i++) {
     while (x[i].firstChild) {
     x[i].removeChild(x[i].firstChild);
     }
     }

     x = document.querySelectorAll('div.privacy-' + type + '-msg');
     for (i = 0; i < x.length; i++) {
     var parent = x[i].parentNode;

     // Move all children out of the element
     while (x[i].firstChild) parent.insertBefore(x[i].firstChild, x[i]);

     // Remove the empty element
     parent.removeChild(x[i]);
     }

     x = document.querySelectorAll('iframe[data-2click-service="' + type + '"]');
     // debugger
     for (i = 0; i < x.length; i++) {

     // debugger
     let serviceType = x[i].getAttribute("data-2click-service");
     if(serviceType === 'google_reviewlisting'){
     if(i == 0){
     let parent = x[i];
     let mapDiv = document.createElement('div');
     mapDiv.id = "map" + i;
     mapDiv.className = "map";
     parent.parentNode.insertBefore(mapDiv, parent.nextSibling)
     // debugger
     loadMapScript(x[i].nextElementSibling);
     }
     else {
     initMap((x[i].nextElementSibling));
     }
     }
     // debugger;
     x[i].src = x[i].getAttribute("data-src");
     }

     // If available, execute the callback that is defined for the currently active type
     for (i = 0; i < this.types.length; i++) {
     if (this.types[i].type == type && this.types[i].callback) {
     window[this.types[i].callback]();
     }
     }


     for (let i = 0; i < toggleButtons.length; i++) {
     let extTitle = toggleButtons[i].getAttribute('data-ext-title');
     let service = extTitle; // assuming that extension title always has the service name at the third position

     // initially set the checkbox according to the cookie value

     toggleButtons[i].checked = Boolean(Number(consentStatuses[service])); // convert string to boolean

     }
     gdprInner?.classList.remove('gdprInner');
     if(areAllChecked()) {
     acceptBtn.disabled = true;
     acceptBtn.classList.add('disabled');
     }
     }

     function DisableContent(type, e) {
     var i;

     // Accessing all relevant checkboxes
     var checkboxes = document.querySelectorAll('div.privacy-' + type + '-msg input');

     for (let i = 0; i < checkboxes.length; i++) {
     if (checkboxes[i].checked == false) { // Checking if the checkbox is not checked
     let service = checkboxes[i].parentNode.parentNode.nextElementSibling.getAttribute('data-2click-service');
     setConsentStatus(service, '0'); // Set consent status to '0' indicating disapproval
     }
     }

     var x = document.querySelectorAll('iframe[data-2click-service="' + type + '"]');
     for (i = 0; i < x.length; i++) {
     let dummy = x[i].innerHTML;
     // debugger

     x[i].src = ''; // Disabling the iframe by setting src as empty
     if(type == 'google_reviewlisting'){
     let elementToRemove = x[i].nextElementSibling;
     if(elementToRemove){
     elementToRemove.parentNode.removeChild(elementToRemove);
     }

     }
     }

     // If available, execute the callback that is defined for the currently active type
     for (i = 0; i < e.length; i++) {
     if (e[i].type == type && e[i].callback) {
     window[e[i].callback]();
     }
     }
     gdprInner?.classList.add('gdprInner');
     acceptBtn.disabled = false;
     acceptBtn.classList.remove('disabled');
     }

     const loadMapScript = function (parent) {
     // debugger;
     const mapScript = document.createElement("script");
     const body = document.querySelector("body");
     const mapsApiKey = document.getElementById("mapApiKey").innerText;

     mapScript.setAttribute(
     "src",
     `https://maps.googleapis.com/maps/api/js?key=${mapsApiKey}&libraries=geometry`
     );

     console.log("exec: ", `https://maps.googleapis.com/maps/api/js?key=${mapsApiKey}&libraries=geometry`);
     body.insertAdjacentElement("beforeend", mapScript);

     mapScript.onload = () => {
     initMap(parent);
     };

     mapScript.onerror = function (error) {
     console.error("Error loading Google Maps API:", error);
     };
     };

     function initMap(parent) {

     const latLongData = JSON.parse(document.getElementById("LatLongData").innerText);
     const markerImagePath = document.getElementById("markerImagePath").innerText;
     var firstKey = Object.keys(latLongData)[0];
     var firstLocation = latLongData[Object.keys(latLongData)[0]];

     // debugger;

     const zoomButton = 1;
     const satelliteView = 'SATELLITE';

     const mapTypeIdMapping = {
     HYBRID: google.maps.MapTypeId.HYBRID,
     ROADMAP: google.maps.MapTypeId.ROADMAP,
     SATELLITE: google.maps.MapTypeId.SATELLITE,
     TERRAIN: google.maps.MapTypeId.TERRAIN,
     };
     // debugger;
     const map = new google.maps.Map(parent, {
     zoom: 13,
     center: { lat: firstLocation.lat/1000000, lng: firstLocation.long/1000000 },
     });

     map.setOptions({
     zoomControl: zoomButton ? true : false,
     });
     // const locationMarkers = document.querySelectorAll(".location-marker");

     latLongData.forEach((markerElement) => {

     const latitude = parseFloat(markerElement.lat);
     const longitude = parseFloat(markerElement.long);
     const bodyText = markerElement.address;

     const title = markerElement.title;
     let markerIcon;
     if (markerImagePath) {

     markerIcon = {
     url: `${window.location.origin}${markerImagePath}`, // url
     scaledSize: new google.maps.Size(70, 70), // scaled size
     origin: new google.maps.Point(0, 0), // origin
     anchor: new google.maps.Point(0, 0) // anchor
     };
     }

     if (!isNaN(latitude) && !isNaN(longitude)) {
     const marker = new google.maps.Marker({
     position: { lat: latitude/1000000, lng: longitude/1000000 },
     map: map,
     title: title,
     icon: markerIcon,
     });

     let contentString = `
     <div class="location-marker__info-window" style="padding: 6px 2px; max-width: 150px">
         <div class="location-marker__title" style="font-weight: bold; margin-bottom: 5px">${title}</div>
         <div class="location-marker__body-text" style="line-height: 1.4">${bodyText}</div>
     </div>
     `;

     const infoWindow = new google.maps.InfoWindow({
     content: contentString,
     });

     marker.addListener("click", () => {
     infoWindow.open(map, marker);
     });


     }
     });




     }


     this.init = function (Userconfig, solSetting, key) {

     // Read UserConfiguration:
     if (typeof Userconfig.enableCookies !== 'undefined') {
     config.enableCookies = Userconfig.enableCookies;
     }
     if (typeof Userconfig.useSessionCookie !== 'undefined') {
     config.useSessionCookie = Userconfig.useSessionCookie;
     }
     if (typeof Userconfig.cookieNamespace !== 'undefined') {
     config.cookieNamespace = Userconfig.cookieNamespace;
     }
     if (typeof Userconfig.privacyPolicyUrl !== 'undefined') {
     config.privacyPolicyUrl = Userconfig.privacyPolicyUrl;
     }
     if (typeof Userconfig.showContentLabel !== 'undefined') {
     config.showContentLabel = Userconfig.showContentLabel;
     }
     if (typeof Userconfig.rememberChoiceLabel !== 'undefined') {
     config.rememberChoiceLabel = Userconfig.rememberChoiceLabel;
     }
     if (typeof Userconfig.privacyPolicyLabel !== 'undefined') {
     config.privacyPolicyLabel = Userconfig.privacyPolicyLabel;
     }

     if (Array.isArray(Userconfig.CustomTypes)) {
     this.types = Userconfig.CustomTypes;
     }
     for (let i = 0; i < this.types.length; i++) {
     var selector = document.querySelectorAll('iframe[data-2click-type="' + this.types[i].type + '"]');

     for (let x = 0; x < selector.length; x++) {

     let service = selector[x].getAttribute('data-2click-service'); // get service name from iframe

     if (consentStatuses[service] !== '1') {

     wrap(selector[x], document.createElement('div'),
     service,
     solSetting[service].content,
     solSetting[service].heading,
     solSetting[service].buttonColor,
     solSetting[service].textColor,
     solSetting[service].backgroundImage,
     solSetting[service].enableBackgroundImage,
     solSetting[service].backgroundImageColor,
     solSetting[service].buttonTextColor,
     solSetting[service].buttonText,
     solSetting[service].buttonShape,
     );
     } else {
     if(service === 'google_reviewlisting'){
     let parent = selector[x];
     let mapDiv = document.createElement('div');
     mapDiv.id = "map" + i;
     mapDiv.className = "map";
     parent.parentNode.insertBefore(mapDiv, parent.nextSibling)
     loadMapScript(selector[x].nextElementSibling);
     }

     selector[x].src = selector[x].getAttribute("data-src");
     gdprInner?.classList.remove('gdprInner');
     }




     }

     }


     // Get all toggle buttons
     // For each toggle button
     for (let i = 0; i < toggleButtons.length; i++) {

     let extTitle = toggleButtons[i].getAttribute('data-ext-title');
     let service = extTitle;

     // initially set the checkbox according to the cookie value

     toggleButtons[i].checked = Boolean(Number(consentStatuses[service])); // convert string to boolean
     let wrapperFunctionData = this.types;

     // add event listener on checkbox change

     toggleButtons[i].addEventListener('change', function (e) {

     setConsentStatus(service, this.checked ? '1' : '0'); // convert boolean to number
     this.checked;

     if (this.checked == false) {

     DisableContent(service, wrapperFunctionData)
     wrapfunction(wrapperFunctionData,arr,service);

     } else {
     _2ClickIframePrivacy.EnableContent(service)
     }
     });
     }

     function wrapfunction(e ,settings ,key) {

     for (let i = 0; i < e.length; i++) {

     var selector = document.querySelectorAll('iframe[data-2click-type="' + e[i].type + '"]');
     for (let x = 0; x < selector.length; x++) {
     let service = selector[x].getAttribute('data-2click-service'); // get service name from iframe
     if(service == key){
     if (consentStatuses[service] !== '1') {
     wrap(selector[x],
     document.createElement('div'),
     service, settings[service].content,
     settings[service].heading,
     settings[service].buttonColor,
     settings[service].buttonTextColor,
     settings[service].backgroundImage,
     settings[service].enableBackgroundImage,
     settings[service].backgroundImageColor,
     settings[service].buttonTextColor,
     settings[service].buttonText,
     settings[service].buttonShape,
     );
     } else {
     selector[x].src = selector[x].getAttribute("data-src");
     }
     }

     }

     }

     }

     if(areAllChecked()) {
     acceptBtn.disabled = true;
     acceptBtn.classList.add('disabled');
     }

     };
     }
     }
     function areAllChecked() {
     for(let i=0; i<switchs.length; i++){
     if(!switchs[i].checked){
     return false;
     }
     }
     return true;
     }


     document.addEventListener("DOMContentLoaded", function() {
        
        let gdpr_categoryHeaders = document.querySelectorAll('.category-header');
        let gdpr_moreBtn = document.querySelectorAll('.category-container .more_details');
        let gdpr_cookieDataContainer = document.querySelector('.cookie-data');
        let gdpr_goBackBtn = document.querySelectorAll('.go-back');
        let gdpr_detailTable = document.querySelectorAll('.more-detail-table');
        let gdpr_modalContent = document.querySelector('.modal-content');
        let gdpr_scroll = document.querySelector('.modal-content .scroll');
        let gdpr_icon = document.getElementById('gdpr-cookie-consent__icon');
        let gdpr_model = document.getElementById('gdpr-cookie-consent__model');

        gdpr_icon?.addEventListener('click', function() {
            gdpr_model.style.display = 'block';
        })

        gdpr_categoryHeaders.forEach(header => {
            header?.addEventListener('click', function() {
                let content = header.nextElementSibling;

                if (content.classList.contains('show')) {

                    content.style.maxHeight = content.scrollHeight + 'px';
                    setTimeout(function () {
                        content.style.maxHeight = '0';
                    }, 10);

                    content.classList.remove('show');
                    content.classList.add('hide');
                    header.querySelector('.arrow').textContent = '+';
                } else {
                    content.style.maxHeight = content.scrollHeight + 'px';

                    content.classList.remove('hide');
                    content.classList.add('show');
                    header.querySelector('.arrow').textContent = '-';
                }
            });
        });


        let closeModal = document.getElementById('closeModal');
        closeModal?.addEventListener('click', function() {
            document.getElementById('gdpr-cookie-consent__model').style.display = 'none';
        });

        let modal = document.getElementById('gdpr-cookie-consent__model');
        let cookiesRejected = localStorage.getItem('cookiesRejected');
        console.log(cookiesRejected);
        console.log(!cookiesRejected);
        if (!cookiesRejected) {
            console.log('inif');
            modal.style.display = "block";
        }

        gdpr_moreBtn?.forEach((btn)=>{
            btn?.addEventListener('click', function() {
                let btnIdentifier = this?.getAttribute('data-identifier');
                const table = document.querySelector(`.more-detail-table[data-identifier="${btnIdentifier}"]`);
                if(table) {
                    gdpr_cookieDataContainer.classList.add('d-none');
                    table.classList.remove('d-none');
                    gdpr_modalContent.classList.add('expanded');
                    gdpr_scroll.classList.add('expanded');
                    adjustModalWidth();
                }
            })
        })

        gdpr_goBackBtn.forEach((btn, index)=>{
            btn.addEventListener('click', function() {
                gdpr_detailTable.forEach((item)=>{
                    item.classList.add('d-none');
                })
                gdpr_cookieDataContainer.classList.remove('d-none');
                if (gdpr_modalContent && gdpr_scroll) {
                    gdpr_modalContent.classList.remove('expanded');
                    gdpr_modalContent.style.width = '100%';

                    gdpr_scroll.classList.remove('expanded');
                    gdpr_scroll.style.maxWidth = '440px';
                }
            })
        })
    });
    window.addEventListener('resize', adjustModalWidth);

    function adjustModalWidth() {
        // query for the elements that we want to dynamically change their widths
        var gdpr_modalContent = document.querySelector('.modal-content.expanded');
        var scrollElement = document.querySelector('.scroll.expanded');

        var windowWidth = window.innerWidth;
        var maxWidth = windowWidth - 20;

        // Check if window width is less than 1400px, if so, set max-width to windowWidth - 40px
        if (windowWidth < 1400) {
            gdpr_modalContent.style.width = maxWidth + 'px';
            scrollElement.style.maxWidth = maxWidth + 'px';
        } else {
            gdpr_modalContent.style.width = 'unset';
            scrollElement.style.maxWidth = '1400px';
        }
    }

    function setCookies(value) {
        if (value === 'false') {
            window.yett.unblock()
        }
        localStorage.setItem('cookiesRejected', value);
        document.getElementById('gdpr-cookie-consent__model').style.display = 'none';
    }



    </f:asset.script>
</html>
